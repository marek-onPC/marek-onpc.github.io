import{r as C,w as P}from"./index.BYmUb_7f.js";import{s as I,h as m,n as d,o as v,a as A}from"./scheduler.hyw8iwdn.js";import{S as O,i as L,e as y,t as D,c as T,a as E,b,d as w,l as p,g as j,h as g,j as k}from"./index.C4qMneLH.js";const f="san-3jshd7-token",_="san-m85naG-expiry",S="san-6sU5gl-refresh",u="http://localhost:8000",$=({accessToken:e,refreshToken:t,expiry:s})=>{window.localStorage.setItem(f,e),window.localStorage.setItem(S,t),window.localStorage.setItem(_,s?s.toISOString():"")},R=()=>{const e=window.localStorage.getItem(f)||"",t=window.localStorage.getItem(S)||"",s=window.localStorage.getItem(_)||"";let a=new Date;return s&&(a=new Date(s)),{accessToken:e,refreshToken:t,expiry:a,tokenType:"Bearer"}},F=()=>{window.localStorage.removeItem(f),window.localStorage.removeItem(S),window.localStorage.removeItem(_)};let B=R();const J=P(B),H=C(navigator.vendor==="Apple Computer, Inc.");function G(e){let t,s,a,n,o;return{c(){t=y("div"),s=y("p"),a=D(e[3]),this.h()},l(r){t=T(r,"DIV",{class:!0});var i=E(t);s=T(i,"P",{class:!0});var h=E(s);a=b(h,e[3]),h.forEach(w),i.forEach(w),this.h()},h(){p(s,"class",n=m(`loader__character ${e[0]&&"--small"} ${e[1]&&"--white"}`)+" svelte-18o11e6"),p(t,"class",o=m(`loader ${e[2]&&"--small-margin"}`)+" svelte-18o11e6")},m(r,i){j(r,t,i),g(t,s),g(s,a)},p(r,[i]){i&8&&k(a,r[3]),i&3&&n!==(n=m(`loader__character ${r[0]&&"--small"} ${r[1]&&"--white"}`)+" svelte-18o11e6")&&p(s,"class",n),i&4&&o!==(o=m(`loader ${r[2]&&"--small-margin"}`)+" svelte-18o11e6")&&p(t,"class",o)},i:d,o:d,d(r){r&&w(t)}}}function M(e,t,s){let{isSmall:a=!1}=t,{isWhite:n=!1}=t,{smallMargin:o=!1}=t,r=["⚀","⚁","⚂","⚃","⚄","⚅"],i="⚀",h;return v(()=>{h=setInterval(()=>{s(3,i=r[Math.floor(Math.random()*r.length)])},350)}),A(()=>{clearInterval(h)}),e.$$set=c=>{"isSmall"in c&&s(0,a=c.isSmall),"isWhite"in c&&s(1,n=c.isWhite),"smallMargin"in c&&s(2,o=c.smallMargin)},[a,n,o,i]}class K extends O{constructor(t){super(),L(this,t,M,G,I,{isSmall:0,isWhite:1,smallMargin:2})}}var W=(e=>(e.PASSWORD="password",e.REFRESH_TOKEN="refresh_token",e))(W||{}),l=(e=>(e.POST="POST",e.GET="GET",e.PATCH="PATCH",e.DELETE="DELETE",e))(l||{});const x=e=>{let t={};return e.is_published__list&&(t={...t,is_published__list:e.is_published__list.join(",")}),new URLSearchParams(t)},V=async(e,t)=>await fetch(`${u}/api${e}`,{method:l.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(async a=>{if(a.status!==200)throw new Error(a.statusText);const n=a.status,o=await a.json();return{status:n,data:o}}),q=async e=>await fetch(`${u}/api${e}`,{method:l.GET,headers:{"Content-Type":"application/json"}}).then(async s=>{if(s.status!==200)throw new Error(s.statusText);const a=s.status,n=await s.json();return{status:a,data:n}}),X=async(e,t,s)=>{const a=s?x(s):"";return await fetch(`${u}/api${e}?${a}`,{method:l.GET,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(async o=>{if(o.status!==200)throw new Error(o.statusText);const r=o.status,i=await o.json();return{status:r,data:i}})},Y=async(e,t,s)=>await fetch(`${u}/api${e}`,{method:l.POST,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)}).then(async n=>{if(n.status!==200)throw new Error(n.statusText);const o=n.status,r=await n.json();return{status:o,id:r.id}}),Q=async(e,t,s)=>await fetch(`${u}/api${e}`,{method:l.PATCH,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)}).then(async n=>{if(n.status!==200)throw new Error(n.statusText);return{status:n.status}}),Z=async(e,t)=>await fetch(`${u}/api${e}`,{method:l.DELETE,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(async a=>{if(a.status!==200)throw new Error(a.statusText);return{status:a.status}});export{W as A,K as L,V as a,$ as b,X as c,q as d,Q as e,Y as f,R as g,Z as h,H as i,F as r,J as s};
