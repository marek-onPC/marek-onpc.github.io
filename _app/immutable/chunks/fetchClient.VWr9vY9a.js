import{w as g}from"./index.BeiUWtba.js";import{s as C,h as p,n as y,o as P,a as v}from"./scheduler.hyw8iwdn.js";import{S as I,i as A,e as S,t as j,c as d,a as T,b as D,d as f,l as m,g as L,h as E,j as O}from"./index.C4qMneLH.js";const w="san-3jshd7-token",_="san-m85naG-expiry",u="https://site-and-notes.herokuapp.com",W=({token:e,expiry:t})=>{window.localStorage.setItem(w,e),window.localStorage.setItem(_,t.toISOString())},b=()=>{const e=window.localStorage.getItem(w)||"",t=window.localStorage.getItem(_)||"";let s=new Date;return t&&(s=new Date(t)),{token:e,expiry:s}},$=()=>{window.localStorage.removeItem(w),window.localStorage.removeItem(_)};let k=b();const N=g(k);function G(e){let t,s,n,a,o;return{c(){t=S("div"),s=S("p"),n=j(e[3]),this.h()},l(r){t=d(r,"DIV",{class:!0});var i=T(t);s=d(i,"P",{class:!0});var h=T(s);n=D(h,e[3]),h.forEach(f),i.forEach(f),this.h()},h(){m(s,"class",a=p(`loader__character ${e[0]&&"--small"} ${e[1]&&"--white"}`)+" svelte-18o11e6"),m(t,"class",o=p(`loader ${e[2]&&"--small-margin"}`)+" svelte-18o11e6")},m(r,i){L(r,t,i),E(t,s),E(s,n)},p(r,[i]){i&8&&O(n,r[3]),i&3&&a!==(a=p(`loader__character ${r[0]&&"--small"} ${r[1]&&"--white"}`)+" svelte-18o11e6")&&m(s,"class",a),i&4&&o!==(o=p(`loader ${r[2]&&"--small-margin"}`)+" svelte-18o11e6")&&m(t,"class",o)},i:y,o:y,d(r){r&&f(t)}}}function M(e,t,s){let{isSmall:n=!1}=t,{isWhite:a=!1}=t,{smallMargin:o=!1}=t,r=["⚀","⚁","⚂","⚃","⚄","⚅"],i="⚀",h;return P(()=>{h=setInterval(()=>{s(3,i=r[Math.floor(Math.random()*r.length)])},350)}),v(()=>{clearInterval(h)}),e.$$set=c=>{"isSmall"in c&&s(0,n=c.isSmall),"isWhite"in c&&s(1,a=c.isWhite),"smallMargin"in c&&s(2,o=c.smallMargin)},[n,a,o,i]}class U extends I{constructor(t){super(),A(this,t,M,G,C,{isSmall:0,isWhite:1,smallMargin:2})}}var l=(e=>(e.POST="POST",e.GET="GET",e.PATCH="PATCH",e.DELETE="DELETE",e))(l||{});const x=e=>{let t={};return e.is_published__list&&(t={...t,is_published__list:e.is_published__list.join(",")}),new URLSearchParams(t)},J=async(e,t)=>await fetch(`${u}/api${e}`,{method:l.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(async n=>{if(n.status!==200)throw new Error(n.statusText);const a=n.status,o=await n.json();return{status:a,data:o}}),F=async e=>await fetch(`${u}/api${e}`,{method:l.GET,headers:{"Content-Type":"application/json"}}).then(async s=>{if(s.status!==200)throw new Error(s.statusText);const n=s.status,a=await s.json();return{status:n,data:a}}),V=async(e,t,s)=>{const n=s?x(s):"";return await fetch(`${u}/api${e}?${n}`,{method:l.GET,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(async o=>{if(o.status!==200)throw new Error(o.statusText);const r=o.status,i=await o.json();return{status:r,data:i}})},q=async(e,t,s)=>await fetch(`${u}/api${e}`,{method:l.POST,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)}).then(async a=>{if(a.status!==200)throw new Error(a.statusText);const o=a.status,r=await a.json();return{status:o,id:r.id}}),K=async(e,t,s)=>await fetch(`${u}/api${e}`,{method:l.PATCH,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)}).then(async a=>{if(a.status!==200)throw new Error(a.statusText);return{status:a.status}}),X=async(e,t)=>await fetch(`${u}/api${e}`,{method:l.DELETE,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(async n=>{if(n.status!==200)throw new Error(n.statusText);return{status:n.status}});export{U as L,V as a,J as b,W as c,F as d,K as e,q as f,b as g,X as h,$ as r,N as s};
